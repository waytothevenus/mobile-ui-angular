<!DOCTYPE HTML><html lang="en" itemscope="" itemtype="http://schema.org/Article"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Maurizio Casimirri (http://github.com/mcasimir)"><title>touch | Mobile Angular UI</title><link rel="publisher" href="https://plus.google.com/+MobileangularuiGp"><meta name="twitter:image:src" itemprop="image" property="og:image" content="/assets/img/og-logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@mobileangularui"><meta name="twitter:creator" content="@mauriziocas"><meta property="og:site_name" content="Mobile Angular UI"><meta property="og:type" content="article"><meta property="og:url" content="http://mobileangularui.com/docs/module:mobile-angular-ui/module:gestures/module:touch"><link href="/assets/css/main.css" rel="stylesheet"><link rel="shortcut icon" href="/assets/img/favicon.png"><!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]--></head><body><div class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-nav"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/"><span class="logo">Mobile Angular UI</span></a></div><div class="collapse navbar-collapse navbar-collapse-nav"><ul class="nav navbar-nav navbar-right"><li><a href="/demo">Demo</a></li><li><a href="/docs">Docs</a></li><li><a href="/apps">Apps</a></li><li><a href="/blog">Blog</a></li><li><a href="/forum">Forum</a></li><li><a href="https://github.com/mcasimir/mobile-angular-ui" target="_blank"><i class="fa fa-github"></i> Sources</a></li></ul></div></div></div><div class="heading"><div class="container"><h1>touch</h1><div class="heading-description">module</div></div></div><div class="banner banner-crumbs"><div class="container"><a href="https://github.com/mcasimir/mobile-angular-ui/blob/master/src/js/gestures/touch.js" target="blank" class="pull-right"><small><i class="fa fa-pencil"></i> Source</small></a><ol class="breadcrumb"><li><a href="/">Home</a></li><li><a href="/docs">Docs</a></li><li><a href="/docs/module:mobile-angular-ui">mobile-angular-ui</a></li><li><a href="/docs/module:mobile-angular-ui/module:gestures">gestures</a></li><li class="active">touch</li></ol></div></div><div class="container"><div class="row"><div class="sidebar-container col-sm-2" role="aside"><div class="h6 small text-muted">touch</div><ul class="toc sidebar nav" id="toc"><li class="toc1 toc-section"><a href="#services">Services</a></li><li class="toc1 toc-item"><a href="#dollartouch">$touch</a><ul class="nav"><li class="toc2 toc-section"><a href="#provider">Provider</a></li><li class="toc2 toc-item"><a href="#dollartouchprovider">$touchProvider</a></li><li class="toc2 toc-item"><a href="#setvalid">setValid</a></li><li class="toc2 toc-item"><a href="#setmovementthreshold">setMovementThreshold</a></li><li class="toc2 toc-item"><a href="#setsensitivearea">setSensitiveArea</a></li><li class="toc2 toc-section"><a href="#methods">Methods</a></li><li class="toc2 toc-item"><a href="#bind">bind</a></li><li class="toc2 toc-section"><a href="#types">Types</a></li><li class="toc2 toc-item"><a href="#touchinfo">TouchInfo</a></li></ul></li></ul><hr class="visible-xs-block"></div><div class="content col-sm-10 col-md-8" role="main"><div id="docs-contents"><p>Device agnostic touch handling.</p><p><strong>Usage</strong></p><p>Require this module doing either</p><pre><code class="lang-js">angular.module(<span class="hljs-string">&apos;myApp&apos;</span>, [<span class="hljs-string">&apos;mobile-angular-ui.gestures&apos;</span>]);
</code></pre><p>Or standalone</p><pre><code class="lang-js">angular.module(<span class="hljs-string">&apos;myApp&apos;</span>, [<span class="hljs-string">&apos;mobile-angular-ui.gestures.touch&apos;</span>]);
</code></pre><p>Then you will be able to use the <code>$touch</code> service like that:</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> unbindFn = $touch.bind(element, {
   start: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">move</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">end</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">cancel</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
}, <span class="hljs-title">options</span>);</span>
</code></pre><h2 data-toc-type="section" class="h3 page-header" id="services">Services</h2><div class="doc-node doc-service"><h2 data-toc-title="$touch" class="page-header doc-page-header" id="dollartouch">$touch <small>service</small></h2><ul><li>$touchProvider - class</li><li>TouchInfo - class</li><li>bind - method</li></ul><p><code>$touch</code> is an abstraction of touch event handling that works with any kind of input devices.</p><p>It is intended for single touch only and provides extended infos about touch like: movement, direction, velocity, duration, and more. $touch service is intended as base to build any single-touch gesture handlers.</p><p><strong>Usage</strong></p><pre><code class="lang-js"><span class="hljs-keyword">var</span> unbindFn = $touch.bind(element, {
   start: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">move</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">end</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
   <span class="hljs-title">cancel</span>: <span class="hljs-title">function</span><span class="hljs-params">(touchInfo, e)</span>;
}, <span class="hljs-title">options</span>);</span>
</code></pre><h3 data-toc-title="Provider" data-toc-type="section" class="h4 page-header" id="provider">Provider <small><i>in</i> $touch</small></h3><div class="doc-node doc-class"><h3 data-toc-title="$touchProvider" class="h4 doc-page-header" id="dollartouchprovider">$touchProvider<br><small>class <small><i>in</i></small> $touch</small></h3><p>Configurable provider for <code>$touch</code> service</p><div><div><b>Methods</b></div><div class="doc-node doc-method"><h3 data-toc-title="setValid" class="h4 doc-page-header" id="setvalid">setValid<br><small>method <small><i>in</i></small> $touchProvider</small></h3><pre class="synopsis"><code>$touchProvider.setValid(validityFunction)</code></pre><p>Set default validity function for a touch.</p><p>The default is defined as always true:</p><pre><code class="lang-js">$touchProvider.setValid(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(touch, event)</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
});
</code></pre><table class="table table-params"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>validityFunction</code></td><td><small class="mono">function</small></td><td><p>The validity function. A function that takes two arguments: <code>touchInfo</code> and <code>event</code>, and returns a <code>Boolean</code> indicating wether the corresponding touch should be considered valid and its handlers triggered, or considered invalid and its handlers be ignored.</p></td></tr></tbody></table></div><div class="doc-node doc-method"><h3 data-toc-title="setMovementThreshold" class="h4 doc-page-header" id="setmovementthreshold">setMovementThreshold<br><small>method <small><i>in</i></small> $touchProvider</small></h3><pre class="synopsis"><code>$touchProvider.setMovementThreshold(threshold)</code></pre><p>Set default amount of pixels of movement before start to trigger <code>touchmove</code> handlers.</p><p>Default is <code>1</code>.</p><p>ie.</p><pre><code class="lang-js">$touchProvider.setMovementThreshold(<span class="hljs-number">120</span>);
</code></pre><table class="table table-params"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>threshold</code></td><td><small class="mono">integer</small></td><td><p>The new treeshold.</p></td></tr></tbody></table></div><div class="doc-node doc-method"><h3 data-toc-title="setSensitiveArea" class="h4 doc-page-header" id="setsensitivearea">setSensitiveArea<br><small>method <small><i>in</i></small> $touchProvider</small></h3><pre class="synopsis"><code>$touchProvider.setSensitiveArea(sensitiveArea)</code></pre><p>Set default sensitive area.</p><p>The sensitive area of a touch is the area of the screen inside what we consider a touch to be meaningful thus triggering its handlers.</p><p><strong>NOTE:</strong> if movement goes out the sensitive area the touch event is not cancelled, instead its handler are just ignored.</p><p>By default sensitive area is defined as <code>ownerDocument</code> bounding rectangle of the bound element.</p><p>ie.</p><pre><code class="lang-js">$touchProvider.setSensitiveArea(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($element)</span> </span>{
  <span class="hljs-keyword">return</span> $element[<span class="hljs-number">0</span>].ownerDocument.documentElement.getBoundingClientRect();
});
</code></pre><table class="table table-params"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>sensitiveArea</code></td><td><small class="mono">function | Element | TextRectangle</small></td><td><p>The new default sensitive area, either static or as function taking an element and returning another element or a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.getBoundingClientRect">rectangle</a>.</p></td></tr></tbody></table></div></div></div><div><h3 data-toc-title="Methods" data-toc-type="section" class="h4 page-header" id="methods">Methods <small><i>in</i> $touch</small></h3><div class="doc-node doc-method"><h3 data-toc-title="bind" class="h4 doc-page-header" id="bind">bind<br><small>method <small><i>in</i></small> $touch</small></h3><pre class="synopsis"><code>$touch.bind(element, eventHandlers, <i><span class="text-muted">[</span>options<span class="text-muted">]</span></i>) &#x27F6; function</code></pre><p>Bind touch handlers for an element.</p><pre><code class="lang-js"><span class="hljs-keyword">var</span> unbind = $touch.bind(elem, { 
  end: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(touch)</span> </span>{ 
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Avg Speed:&apos;</span>, touch.averageVelocity);
    unbind();
  }
});
</code></pre><table class="table table-params"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>element</code></td><td><small class="mono">Element | $element</small></td><td><p>The element to bound to.</p></td></tr><tr><td><code>eventHandlers</code></td><td><small class="mono">object</small></td><td><p>An object with handlers for specific touch events.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>eventHandlers.start<span class="text-muted">]</span></i></code></td><td><small class="mono">function</small></td><td><p>The callback for <code>touchstart</code> event.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>eventHandlers.end<span class="text-muted">]</span></i></code></td><td><small class="mono">function</small></td><td><p>The callback for <code>touchend</code> event.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>eventHandlers.move<span class="text-muted">]</span></i></code></td><td><small class="mono">function</small></td><td><p>The callback for <code>touchmove</code> event.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>eventHandlers.cancel<span class="text-muted">]</span></i></code></td><td><small class="mono">function</small></td><td><p>The callback for <code>touchcancel</code> event.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>options<span class="text-muted">]</span></i></code></td><td><small class="mono">object</small></td><td><p>Options.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>options.movementThreshold<span class="text-muted">]</span></i></code></td><td><small class="mono">integer</small></td><td><p>Amount of pixels of movement before start to trigger <code>touchmove</code> handlers.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>options.valid<span class="text-muted">]</span></i></code></td><td><small class="mono">function</small></td><td><p>Validity function. A <code>function(TouchInfo, event)&#x27F6;boolean</code> deciding if a touch should be handled or ignored.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>options.sensitiveArea<span class="text-muted">]</span></i></code></td><td><small class="mono">function | Element | TextRectangle</small></td><td><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element.getBoundingClientRect">Bounding Client Rect</a> or an element or a function that takes the bound element and returns one of the previous. Sensitive area define bounduaries to release touch when movement is outside.</p></td></tr><tr><td><code><i><span class="text-muted">[</span>options.pointerTypes<span class="text-muted">]</span></i></code></td><td><small class="mono">array</small></td><td><p>Pointer types to handle. An array of pointer types that is intended to be a subset of keys from default pointer events map (see <code>$touchProvider.setPointerEvents</code>).</p></td></tr></tbody></table></div></div><div><h3 data-toc-title="Types" data-toc-type="section" class="h4 page-header" id="types">Types <small><i>in</i> $touch</small></h3><div class="doc-node doc-class"><h3 data-toc-title="TouchInfo" class="h4 doc-page-header" id="touchinfo">TouchInfo<br><small>class <small><i>in</i></small> $touch</small></h3><p><code>TouchInfo</code> is an object containing the following extended informations about any touch event.</p><div><div><b>Properties</b></div><table class="table table-params"><thead><tr><th>Prop</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>type</code></td><td><small class="mono">string</small></td><td><p>Normalized event type. Despite of pointer device is always one of <code>touchstart</code>, <code>touchend</code>, <code>touchmove</code>, <code>touchcancel</code>.</p></td></tr><tr><td><code>timestamp</code></td><td><small class="mono">Date</small></td><td><p>The time object corresponding to the moment this touch event happened.</p></td></tr><tr><td><code>duration</code></td><td><small class="mono">integer</small></td><td><p>The difference between this touch event and the corresponding <code>touchstart</code>.</p></td></tr><tr><td><code>startX</code></td><td><small class="mono">float</small></td><td><p>X coord of related <code>touchstart</code>.</p></td></tr><tr><td><code>startY</code></td><td><small class="mono">float</small></td><td><p>Y coord of related <code>touchstart</code>.</p></td></tr><tr><td><code>prevX</code></td><td><small class="mono">float</small></td><td><p>X coord of previous <code>touchstart</code> or <code>touchmove</code>.</p></td></tr><tr><td><code>prevY</code></td><td><small class="mono">float</small></td><td><p>Y coord of previous <code>touchstart</code> or <code>touchmove</code>.</p></td></tr><tr><td><code>x</code></td><td><small class="mono">float</small></td><td><p>X coord of this touch event.</p></td></tr><tr><td><code>y</code></td><td><small class="mono">float</small></td><td><p>Y coord of this touch event.</p></td></tr><tr><td><code>step</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>[prevX, prevY]</code> and <code>[x, y]</code> points.</p></td></tr><tr><td><code>stepX</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>prevX</code> and <code>x</code>.</p></td></tr><tr><td><code>stepY</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>prevY</code> and <code>y</code>.</p></td></tr><tr><td><code>velocity</code></td><td><small class="mono">float</small></td><td><p>Instantaneous velocity of a touch event in pixels per second.</p></td></tr><tr><td><code>averageVelocity</code></td><td><small class="mono">float</small></td><td><p>Average velocity of a touch event from its corresponding <code>touchstart</code> in pixels per second.</p></td></tr><tr><td><code>distance</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>[startX, startY]</code> and <code>[x, y]</code> points.</p></td></tr><tr><td><code>distanceX</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>startX</code> and <code>x</code>.</p></td></tr><tr><td><code>distanceY</code></td><td><small class="mono">float</small></td><td><p>Distance between <code>startY</code> and <code>y</code>.</p></td></tr><tr><td><code>total</code></td><td><small class="mono">float</small></td><td><p>Total number of pixels covered by movement, taking account of direction changes and turnarounds.</p></td></tr><tr><td><code>totalX</code></td><td><small class="mono">float</small></td><td><p>Total number of pixels covered by horizontal movement, taking account of direction changes and turnarounds.</p></td></tr><tr><td><code>totalY</code></td><td><small class="mono">float</small></td><td><p>Total number of pixels covered by vertical, taking account of direction changes and turnarounds.</p></td></tr><tr><td><code>direction</code></td><td><small class="mono">string</small></td><td><p>The current prevalent direction for this touch, one of <code>LEFT</code>, <code>RIGHT</code>, <code>TOP</code>, <code>BOTTOM</code>.</p></td></tr><tr><td><code>angle</code></td><td><small class="mono">float</small></td><td><p>Angle in degree between x axis and the vector <code>[x, y]</code>, is <code>null</code> when no movement happens.</p></td></tr></tbody></table></div></div></div></div></div><hr><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mobileangularui'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div><aside class="col-md-2" role="aside"><hr class="visible-xs-block"><div class="doc-menu"><div class="h5">Basics</div><ul class="nav"><li><a href="/docs">Start to Learn</a></li><li><a href="/docs/getting-started">Getting Started</a></li></ul><div class="h5">Components</div><ul class="nav"><li><a href="/docs/accordion">Accordion</a></li><li><a href="/docs/dropdowns">Dropdowns</a></li><li><a href="/docs/modals">Modals And Overlays</a></li><li><a href="/docs/navbars">Navbars</a></li><li><a href="/docs/scrollable-areas">Scrollable Areas</a></li><li><a href="/docs/sections">Sections</a></li><li><a href="/docs/segmented-navigation">Segmented Navigation</a></li><li><a href="/docs/sidebars">Sidebars</a></li><li><a href="/docs/switches">Toggle Switch</a></li><li><a href="/docs/tabs">Tabs</a></li></ul><div class="h5">API Docs</div><ul class="nav"><li><a href="/docs/module:mobile-angular-ui">mobile-angular-ui</a><ul><li><a href="/docs/module:mobile-angular-ui/module:gestures">gestures</a><ul><li><a href="/docs/module:mobile-angular-ui/module:gestures/module:drag">drag</a></li><li><a href="/docs/module:mobile-angular-ui/module:gestures/module:swipe">swipe</a></li><li><a class="active" href="/docs/module:mobile-angular-ui/module:gestures/module:touch">touch</a></li><li><a href="/docs/module:mobile-angular-ui/module:gestures/module:transform">transform</a></li></ul></li><li><a href="/docs/module:mobile-angular-ui/module:components">components</a><ul><li><a href="/docs/module:mobile-angular-ui/module:components/module:modals">modals</a></li><li><a href="/docs/module:mobile-angular-ui/module:components/module:navbars">navbars</a></li><li><a href="/docs/module:mobile-angular-ui/module:components/module:scrollable">scrollable</a></li><li><a href="/docs/module:mobile-angular-ui/module:components/module:sidebars">sidebars</a></li><li><a href="/docs/module:mobile-angular-ui/module:components/module:switch">switch</a></li></ul></li><li><a href="/docs/module:mobile-angular-ui/module:core">core</a><ul><li><a href="/docs/module:mobile-angular-ui/module:core/module:activelinks">activeLinks</a></li><li><a href="/docs/module:mobile-angular-ui/module:core/module:capture">capture</a></li><li><a href="/docs/module:mobile-angular-ui/module:core/module:outerclick">outerClick</a></li><li><a href="/docs/module:mobile-angular-ui/module:core/module:sharedstate">sharedState</a></li><li><a href="/docs/module:mobile-angular-ui/module:core/module:touchmovedefaults">touchmoveDefaults</a></li></ul></li></ul></li></ul></div></aside></div></div><footer class="footer"><div class="container"><p>Mobile Angular Ui is made for you by <a href="https://github.com/mcasimir" target="_blank">mcasimir</a></p><p><ul class="list-inline"><li><a target="blank" href="https://github.com/mcasimir/mobile-angular-ui"><i class="fa fa-github"></i> Github</a></li><li><a target="blank" href="https://plus.google.com/+MobileangularuiGp"><i class="fa fa-google-plus"></i> Google+</a></li><li><a target="blank" href="https://twitter.com/mobileangularui"><i class="fa fa-twitter"></i> Twitter</a></li><li><a href="mailto:mobileangularui@gmail.com"><i class="fa fa-envelope"></i> Mail</a></li></ul></p><p>Published under the <a href="https://raw.githubusercontent.com/mcasimir/mobile-angular-ui/master/LICENSE">MIT license</a></p></div></footer><script src="/assets/js/main.js"></script></body></html>